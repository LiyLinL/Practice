/*

@license
dhtmlxScheduler v.5.3.10 Professional

This software is covered by DHTMLX Commercial License. Usage without proper license is prohibited.

(c) XB Software Ltd.

*/
Scheduler.plugin(function(a){a.date.add_agenda=function(e){return a.date.add(e,1,"year")};a.templates.agenda_time=function(e,t,d){if(d._timed)return this.day_date(d.start_date,d.end_date,d)+" "+this.event_date(e);else return a.templates.day_date(e)+" &ndash; "+a.templates.day_date(t)};a.templates.agenda_text=function(a,e,t){return t.text};a.templates.agenda_date=function(){return""};a.date.agenda_start=function(){return a.date.date_part(a._currentDate())};a.attachEvent("onTemplatesReady",function(){var e=a.dblclick_dhx_cal_data;a.dblclick_dhx_cal_data=function(){if(this._mode=="agenda"){if(!this.config.readonly&&this.config.dblclick_create)this.addEventNow()}else{if(e)return e.apply(this,arguments)}};var t=a.render_data;a.render_data=function(a){if(this._mode=="agenda")_();else return t.apply(this,arguments)};var d=a.render_view_data;a.render_view_data=function(){if(this._mode=="agenda"){a._agendaScrollTop=a._els["dhx_cal_data"][0].childNodes[0].scrollTop;a._els["dhx_cal_data"][0].childNodes[0].scrollTop=0}return d.apply(this,arguments)};function n(e){if(e){var t=a.locale.labels;var d=a._waiAria.agendaHeadAttrString();var n=a._waiAria.agendaHeadDateString(t.date);var _=a._waiAria.agendaHeadDescriptionString(t.description);a._els["dhx_cal_header"][0].innerHTML="<div "+d+" class='dhx_agenda_line'>"+"<div "+n+">"+t.date+"</div>"+"<span class = 'description_header' style='padding-left:25px' "+_+">"+t.description+"</span>"+"</div>";a._table_view=true;a.set_sizes()}}function _(){var e=a._date;var t=a.get_visible_events();t.sort(function(a,e){return a.start_date>e.start_date?1:-1});var d=a._waiAria.agendaDataAttrString();var n;var _="<div class='dhx_agenda_area' "+d+">";for(var i=0;i<t.length;i++){var r=t[i];var l=r.color?"background:"+r.color+";":"";var s=r.textColor?"color:"+r.textColor+";":"";var c=a.templates.event_class(r.start_date,r.end_date,r);n=a._waiAria.agendaEventAttrString(r);var o=a._waiAria.agendaDetailsBtnString();_+="<div "+n+" class='dhx_agenda_line"+(c?" "+c:"")+"' event_id='"+r.id+"' style='"+s+""+l+""+(r._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(a.config.rtl?a.templates.agenda_time(r.end_date,r.start_date,r):a.templates.agenda_time(r.start_date,r.end_date,r))+"</div>";_+="<div "+o+" class='dhx_event_icon icon_details'>&nbsp;</div>";_+="<span>"+a.templates.agenda_text(r.start_date,r.end_date,r)+"</span></div>"}_+="<div class='dhx_v_border'></div></div>";a._els["dhx_cal_data"][0].innerHTML=_;a._els["dhx_cal_data"][0].childNodes[0].scrollTop=a._agendaScrollTop||0;var v=a._els["dhx_cal_data"][0].childNodes[0];var g=v.childNodes[v.childNodes.length-1];g.style.height=v.offsetHeight<a._els["dhx_cal_data"][0].offsetHeight?"100%":v.offsetHeight+"px";var h=a._els["dhx_cal_data"][0].firstChild.childNodes;var f=a._getNavDateElement();if(f){f.innerHTML=a.templates.agenda_date(a._min_date,a._max_date,a._mode)}a._rendered=[];for(var i=0;i<h.length-1;i++)a._rendered[i]=h[i]}a.agenda_view=function(e){a._min_date=a.config.agenda_start||a.date.agenda_start(a._date);a._max_date=a.config.agenda_end||a.date.add_agenda(a._min_date,1);n(e);if(e){a._cols=null;a._colsS=null;a._table_view=true;_()}else{a._table_view=false}}})});