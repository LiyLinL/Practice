/*

@license
dhtmlxScheduler v.5.3.10 Professional

This software is covered by DHTMLX Commercial License. Usage without proper license is prohibited.

(c) XB Software Ltd.

*/
Scheduler.plugin(function(e){e.form_blocks["combo"]={render:function(e){if(!e.cached_options)e.cached_options={};var t="";t+="<div class='"+e.type+"' style='height:"+(e.height||20)+"px;' ></div>";return t},set_value:function(t,n,a,o){(function(){a();var n=e.attachEvent("onAfterLightbox",function(){a();e.detachEvent(n)});function a(){if(t._combo&&t._combo.DOMParent){var e=t._combo;if(e.unload){e.unload()}else if(e.destructor){e.destructor()}e.DOMParent=e.DOMelem=null}}})();window.dhx_globalImgPath=o.image_path||"/";t._combo=new dhtmlXCombo(t,o.name,t.offsetWidth-8);if(o.onchange)t._combo.attachEvent("onChange",o.onchange);if(o.options_height)t._combo.setOptionHeight(o.options_height);var i=t._combo;i.enableFilteringMode(o.filtering,o.script_path||null,!!o.cache);if(!o.script_path){var c=[];for(var l=0;l<o.options.length;l++){var r=o.options[l];var d=[r.key,r.label,r.css];c.push(d)}i.addOption(c);if(a[o.map_to]){var u=i.getIndexByValue(a[o.map_to]);i.selectOption(u)}}else{var s=a[o.map_to];if(s){if(o.cached_options[s]){i.addOption(s,o.cached_options[s]);i.disable(1);i.selectOption(0);i.disable(0)}else{e.$ajax.get(o.script_path+"?id="+s+"&uid="+e.uid(),function(t){var n=t.xmlDoc.responseText;var a;try{var c=JSON.parse(n);a=c.options[0].text}catch(n){var l=e.$ajax.xpath("//option",t.xmlDoc)[0];a=l.childNodes[0].nodeValue}o.cached_options[s]=a;i.addOption(s,a);i.disable(1);i.selectOption(0);i.disable(0)})}}else{i.setComboValue("")}}},get_value:function(e,t,n){var a=e._combo.getSelectedValue();if(n.script_path){n.cached_options[a]=e._combo.getSelectedText()}return a},focus:function(e){}};e.form_blocks["radio"]={render:function(t){var n="";n+="<div class='dhx_cal_ltext dhx_cal_radio"+"' style='height:"+t.height+"px;' >";for(var a=0;a<t.options.length;a++){var o=e.uid();n+="<input id='"+o+"' type='radio' name='"+t.name+"' value='"+t.options[a].key+"'><label for='"+o+"'>"+" "+t.options[a].label+"</label>";if(t.vertical)n+="<br/>"}n+="</div>";return n},set_value:function(e,t,n,a){var o=e.getElementsByTagName("input");for(var i=0;i<o.length;i++){o[i].checked=false;var c=n[a.map_to]||t;if(o[i].value==c){o[i].checked=true}}},get_value:function(e,t,n){var a=e.getElementsByTagName("input");for(var o=0;o<a.length;o++){if(a[o].checked){return a[o].value}}},focus:function(e){}};e.form_blocks["checkbox"]={render:function(t){if(e.config.wide_form)return'<div class="dhx_cal_wide_checkbox" '+(t.height?"style='height:"+t.height+"px;'":"")+"></div>";else return""},set_value:function(t,n,a,o){t=document.getElementById(o.id);var i=e.uid();var c=typeof o.checked_value!="undefined"?n==o.checked_value:!!n;t.className+=" dhx_cal_checkbox";var l="<input id='"+i+"' type='checkbox' value='true' name='"+o.name+"'"+(c?"checked='true'":"")+"'>";var r="<label for='"+i+"'>"+(e.locale.labels["section_"+o.name]||o.name)+"</label>";if(e.config.wide_form){t.innerHTML=r;t.nextSibling.innerHTML=l}else t.innerHTML=l+r;if(o.handler){var d=t.getElementsByTagName("input")[0];d.onclick=o.handler}},get_value:function(e,t,n){e=document.getElementById(n.id);var a=e.getElementsByTagName("input")[0];if(!a)a=e.nextSibling.getElementsByTagName("input")[0];return a.checked?n.checked_value||true:n.unchecked_value||false},focus:function(e){}}});